# ĞŸÑ€Ğ¸Ğ¼ĞµÑ€: Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ ĞšĞ°Ñ€Ñ‚Ñ‹, ĞšĞ²ĞµÑÑ‚Ğ¾Ğ² Ğ¸ POI

## ĞšĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ñ‹Ğ¹ ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ğ´Ğ»Ñ Magic Awakening

### Ğ—Ğ¾Ğ½Ğ°: ĞÑ€Ğº Ğ¡Ğ¾Ğ·Ğ¸Ğ´Ğ°Ğ½Ğ¸Ñ (`zone_ark_creation`)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ĞĞ Ğš Ğ¡ĞĞ—Ğ˜Ğ”ĞĞĞ˜Ğ¯                               â”‚
â”‚                      (Zone Level 5-15)                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚    ğŸ›ï¸  [POI] Ğ¥Ñ€Ğ°Ğ¼ Ğ ÑƒĞ½ â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€ [POI] Ğ Ñ‹Ğ½Ğ¾Ğº ğŸª            â”‚
â”‚         (temple)              â”‚          (market)                â”‚
â”‚                               â”‚                                  â”‚
â”‚    ğŸ“œ Quest: "ĞŸÑ€Ğ¾Ğ±ÑƒĞ¶Ğ´ĞµĞ½Ğ¸Ğµ"    â”‚    ğŸ“œ Quest: "Ğ’ÑÑ‚Ñ€ĞµÑ‡Ğ° Ñ Ğ­Ğ»Ğ°Ñ€Ğ¾Ğ¹"  â”‚
â”‚       Start: Enter Temple     â”‚       Start: Talk to Elara       â”‚
â”‚       Reward: Rune of Power   â”‚       Next: Old Well             â”‚
â”‚                               â”‚                                  â”‚
â”‚    ğŸ”® [POI] Ğ‘Ğ°ÑˆĞ½Ñ ĞœĞ°Ğ³Ğ¾Ğ²       â”‚    ğŸ‘¤ NPC: Ğ­Ğ»Ğ°Ñ€Ğ°                 â”‚
â”‚       (tower, locked)         â”‚       Merchant, Quest Giver      â”‚
â”‚       Unlock: quest_003_done  â”‚       Dialogue: dlg_elara        â”‚
â”‚                               â”‚                                  â”‚
â”‚         â”‚                     â”‚           â”‚                      â”‚
â”‚         â”‚                     â”‚           â”‚                      â”‚
â”‚    ğŸŒŠ [POI] Ğ”Ğ¾ĞºĞ¸ â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º [POI] Ğ¢Ğ°Ğ²ĞµÑ€Ğ½Ğ° ğŸº     â”‚
â”‚       (docks)                              (inn)                â”‚
â”‚       Fast Travel Hub                      Rest, Info            â”‚
â”‚                               â”‚                                  â”‚
â”‚                               â–¼                                  â”‚
â”‚                    âš« [POI] Ğ¡Ñ‚Ğ°Ñ€Ğ¾Ğµ Ğ”ĞµÑ€ĞµĞ²Ğ¾                        â”‚
â”‚                       (landmark, secret)                         â”‚
â”‚                       Hidden until quest_002                     â”‚
â”‚                                                                  â”‚
â”‚    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•      â”‚
â”‚    ĞŸĞ¾Ğ´Ğ·ĞµĞ¼Ğ½Ñ‹Ğ¹ Ğ£Ñ€Ğ¾Ğ²ĞµĞ½ÑŒ (Ğ¾Ñ‚Ğ´ĞµĞ»ÑŒĞ½Ğ°Ñ Ğ·Ğ¾Ğ½Ğ°):                          â”‚
â”‚    [POI] Ğ“Ğ»ÑƒĞ±Ğ¸Ğ½Ñ‹ ĞÑ€ĞºĞ° â”€â”€â”€â”€â”€â”€â–º [POI] Ğ—ĞµÑ€ĞºĞ°Ğ»Ğ¾ Ğ˜ÑÑ‚Ğ¸Ğ½Ñ‹             â”‚
â”‚    (dungeon)                    (quest_objective)                â”‚
â”‚    Access: Well at night        Boss Fight                       â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## JSON Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñ‹

### Zone: ĞÑ€Ğº Ğ¡Ğ¾Ğ·Ğ¸Ğ´Ğ°Ğ½Ğ¸Ñ

```json
{
  "zone_id": "zone_ark_creation",
  "display_name": "ĞÑ€Ğº Ğ¡Ğ¾Ğ·Ğ¸Ğ´Ğ°Ğ½Ğ¸Ñ",
  "level_range": [5, 15],
  "description": "ĞŸĞ»Ğ°Ğ²Ğ°ÑÑ‰Ğ°Ñ Ñ†Ğ¸Ñ‚Ğ°Ğ´ĞµĞ»ÑŒ, Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½ĞµĞµ Ğ¿Ñ€Ğ¸Ğ±ĞµĞ¶Ğ¸Ñ‰Ğµ Ğ¼Ğ°Ğ³Ğ¸Ğ¸",
  
  "map_data": {
    "texture": "map_ark_creation",
    "bounds": {
      "min": [-2000, -2000],
      "max": [2000, 2000]
    },
    "zoom_levels": [1.0, 0.5, 0.25]
  },
  
  "pois": [
    "poi_rune_temple",
    "poi_market",
    "poi_mage_tower",
    "poi_docks",
    "poi_tavern",
    "poi_old_tree"
  ],
  
  "connections": {
    "underground": "zone_ark_depths"
  },
  
  "unlock_condition": "quest_main_001_completed"
}
```

### POI: Ğ Ñ‹Ğ½Ğ¾Ğº + Ğ›Ğ°Ğ²ĞºĞ° Ğ­Ğ»Ğ°Ñ€Ñ‹

```json
{
  "poi_id": "poi_market",
  "zone_id": "zone_ark_creation",
  "display_name": "Ğ Ñ‹Ğ½Ğ¾Ğº",
  "poi_type": "settlement",
  "sub_type": "market",
  
  "position": {
    "world": [0, 0, 100],
    "map": [0.5, 0.5]
  },
  
  "discovery": {
    "auto_discover": true,
    "reveal_radius": 200
  },
  
  "child_pois": [
    {
      "poi_id": "poi_elara_shop",
      "display_name": "Ğ›Ğ°Ğ²ĞºĞ° Ğ­Ğ»Ğ°Ñ€Ñ‹",
      "type": "merchant",
      "position_offset": [50, 0, 0],
      
      "npcs": ["npc_elara"],
      
      "services": {
        "shop": {
          "inventory": "inv_elara_magic",
          "currency": "gold",
          "buy_multiplier": 0.5,
          "sell_multiplier": 1.5
        },
        "identify": {
          "cost": 50,
          "requires_item": true
        }
      },
      
      "quest_links": {
        "starts": ["quest_meet_elara", "quest_elara_secret"],
        "progresses": ["quest_main_003", "quest_rune_power"],
        "completes": ["quest_delivery_scrolls"]
      },
      
      "dialogues": {
        "default": "dlg_elara_shop_default",
        "quest_active": {
          "quest_elara_secret": "dlg_elara_secret_meeting"
        }
      }
    }
  ],
  
  "fast_travel": {
    "enabled": true,
    "cost": 0,
    "name": "Ğ Ñ‹Ğ½Ğ¾Ğº ĞÑ€ĞºĞ°"
  },
  
  "ambient": {
    "sounds": ["amb_market_crowd", "amb_magic_hum"],
    "music": "music_ark_market",
    "time_variants": {
      "night": {
        "sounds": ["amb_market_night"],
        "npcs_despawn": ["npc_merchants"],
        "lights": ["light_lanterns"]
      }
    }
  }
}
```

### POI: Ğ¡Ñ‚Ğ°Ñ€Ğ¾Ğµ Ğ”ĞµÑ€ĞµĞ²Ğ¾ (Ğ¡ĞµĞºÑ€ĞµÑ‚)

```json
{
  "poi_id": "poi_old_tree",
  "zone_id": "zone_ark_creation",
  "display_name": "Ğ¡Ñ‚Ğ°Ñ€Ğ¾Ğµ Ğ”ĞµÑ€ĞµĞ²Ğ¾",
  "poi_type": "landmark",
  "sub_type": "secret",
  
  "position": {
    "world": [-800, 1200, 50]
  },
  
  "discovery": {
    "auto_discover": false,
    "hidden_until": {
      "condition": "quest_stage",
      "quest_id": "quest_elara_secret",
      "stage": 2
    },
    "reveal_trigger": "player_proximity",
    "reveal_radius": 100
  },
  
  "visual_states": {
    "undiscovered": {
      "mesh": "tree_old_dead",
      "interactable": false
    },
    "discovered": {
      "mesh": "tree_old_magical",
      "particles": "pfx_magic_aura",
      "interactable": true
    }
  },
  
  "interaction": {
    "type": "examine",
    "dialogue": "dlg_old_tree_examine",
    "reveals": ["poi_hidden_entrance"]
  },
  
  "quest_links": {
    "progresses": ["quest_elara_secret"]
  }
}
```

### POI: Ğ¡Ñ‚Ğ°Ñ€Ñ‹Ğ¹ ĞšĞ¾Ğ»Ğ¾Ğ´ĞµÑ† (ĞšĞ²ĞµÑÑ‚Ğ¾Ğ²Ğ°Ñ Ğ›Ğ¾ĞºĞ°Ñ†Ğ¸Ñ)

```json
{
  "poi_id": "poi_old_well",
  "zone_id": "zone_ark_creation",
  "display_name": "Ğ¡Ñ‚Ğ°Ñ€Ñ‹Ğ¹ ĞšĞ¾Ğ»Ğ¾Ğ´ĞµÑ†",
  "poi_type": "landmark",
  
  "position": {
    "world": [500, -300, 0]
  },
  
  "discovery": {
    "auto_discover": false,
    "hidden_until": {
      "condition": "quest_started",
      "quest_id": "quest_elara_secret"
    }
  },
  
  "time_conditions": {
    "accessible": {
      "time": "night",
      "else_dialogue": "dlg_well_day_closed"
    }
  },
  
  "zone_transition": {
    "enabled": true,
    "target_zone": "zone_ark_depths",
    "target_spawn": "spawn_well_bottom",
    "condition": "time == night"
  },
  
  "quest_links": {
    "objectives": [
      {
        "quest_id": "quest_elara_secret",
        "stage": 2,
        "action": "investigate",
        "completes_stage": true
      }
    ]
  },
  
  "dynamic_marker": {
    "quest_marker": "quest_elara_secret",
    "icon": "icon_quest_main",
    "color": "gold",
    "visible": "quest_active"
  }
}
```

---

## Ğ¡Ğ²ÑĞ·ÑŒ ĞšĞ²ĞµÑÑ‚ â†’ ĞšĞ°Ñ€Ñ‚Ğ°

### ĞšĞ²ĞµÑÑ‚: "Ğ¡ĞµĞºÑ€ĞµÑ‚ Ğ­Ğ»Ğ°Ñ€Ñ‹" (`quest_elara_secret`)

```json
{
  "quest_id": "quest_elara_secret",
  "title": "Ğ¡ĞµĞºÑ€ĞµÑ‚ Ğ­Ğ»Ğ°Ñ€Ñ‹",
  
  "stages": [
    {
      "stage": 1,
      "title": "ĞŸĞ¾Ğ³Ğ¾Ğ²Ğ¾Ñ€Ğ¸Ñ‚Ğµ Ñ Ğ­Ğ»Ğ°Ñ€Ğ¾Ğ¹",
      "objectives": [
        {
          "type": "talk",
          "target_npc": "npc_elara",
          "location": {
            "type": "at_poi",
            "poi_id": "poi_elara_shop"
          }
        }
      ],
      "map_markers": [
        {
          "target": "poi_elara_shop",
          "icon": "icon_quest_talk",
          "label": "Ğ­Ğ»Ğ°Ñ€Ğ°"
        }
      ]
    },
    {
      "stage": 2,
      "title": "Ğ˜ÑÑĞ»ĞµĞ´ÑƒĞ¹Ñ‚Ğµ Ğ¡Ñ‚Ğ°Ñ€Ñ‹Ğ¹ ĞšĞ¾Ğ»Ğ¾Ğ´ĞµÑ†",
      "description": "Ğ­Ğ»Ğ°Ñ€Ğ° ÑĞºĞ°Ğ·Ğ°Ğ»Ğ° Ğ²ÑÑ‚Ñ€ĞµÑ‚Ğ¸Ñ‚ÑŒÑÑ Ñƒ Ğ¡Ñ‚Ğ°Ñ€Ğ¾Ğ³Ğ¾ ĞšĞ¾Ğ»Ğ¾Ğ´Ñ†Ğ° Ğ½Ğ¾Ñ‡ÑŒÑ",
      
      "conditions": {
        "time": "night"
      },
      
      "objectives": [
        {
          "type": "investigate",
          "target": "poi_old_well",
          "sub_conditions": {
            "time": "night",
            "enter_zone": "zone_ark_depths"
          }
        }
      ],
      
      "map_markers": [
        {
          "target": "poi_old_well",
          "icon": "icon_quest_investigate",
          "label": "Ğ¡Ñ‚Ğ°Ñ€Ñ‹Ğ¹ ĞšĞ¾Ğ»Ğ¾Ğ´ĞµÑ† (Ğ½Ğ¾Ñ‡ÑŒÑ)",
          "dynamic": {
            "hidden_during_day": true,
            "radius_indicator": 150
          }
        }
      ],
      
      "stage_events": {
        "on_enter": {
          "reveal_poi": "poi_old_well",
          "unlock_dialogue": "dlg_elara_secret_night"
        }
      }
    },
    {
      "stage": 3,
      "title": "ĞĞ°Ğ¹Ğ´Ğ¸Ñ‚Ğµ Ğ—ĞµÑ€ĞºĞ°Ğ»Ğ¾ Ğ˜ÑÑ‚Ğ¸Ğ½Ñ‹",
      "objectives": [
        {
          "type": "find_item",
          "item": "mirror_of_truth",
          "location": {
            "type": "in_zone",
            "zone_id": "zone_ark_depths",
            "specific_poi": "poi_mirror_chamber"
          }
        }
      ],
      "map_markers": [
        {
          "target": "zone_ark_depths",
          "icon": "icon_quest_dungeon",
          "label": "Ğ“Ğ»ÑƒĞ±Ğ¸Ğ½Ñ‹ ĞÑ€ĞºĞ°",
          "area_highlight": true
        }
      ]
    },
    {
      "stage": 4,
      "title": "Ğ’ĞµÑ€Ğ½Ğ¸Ñ‚ĞµÑÑŒ Ğº Ğ­Ğ»Ğ°Ñ€Ğµ",
      "objectives": [
        {
          "type": "talk",
          "target_npc": "npc_elara",
          "location": "poi_elara_shop"
        }
      ],
      "branching": {
        "choices": [
          {
            "condition": "has_item:mirror_of_truth",
            "dialogue": "dlg_elara_return_with_mirror",
            "reward": "exp:1000, item:rune_secret"
          },
          {
            "condition": "!has_item:mirror_of_truth",
            "dialogue": "dlg_elara_return_empty",
            "consequence": "disposition_elara:-20"
          }
        ]
      }
    }
  ]
}
```

---

## Flow Diagram

```
ĞĞ°Ñ‡Ğ°Ğ»Ğ¾ ĞšĞ²ĞµÑÑ‚Ğ°
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Ğ˜Ğ³Ñ€Ğ¾Ğº Ğ·Ğ°Ñ…Ğ¾Ğ´Ğ¸Ñ‚ Ğ² Ğ·Ğ¾Ğ½Ñƒ "Ark of Creation"  â”‚
â”‚ [ZoneVolume OnBeginOverlap]             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Ğ˜Ğ³Ñ€Ğ¾Ğº Ğ¿Ğ¾Ğ´Ñ…Ğ¾Ğ´Ğ¸Ñ‚ Ğº POI "Elara's Shop"    â”‚
â”‚ â€¢ POI Ğ¿Ğ¾ÑĞ²Ğ»ÑĞµÑ‚ÑÑ Ğ½Ğ° ĞºĞ¾Ğ¼Ğ¿Ğ°ÑĞµ            â”‚
â”‚ â€¢ Ğ˜ĞºĞ¾Ğ½ĞºĞ° Ğ½Ğ° ĞºĞ°Ñ€Ñ‚Ğµ (ĞµÑĞ»Ğ¸ Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚Ğ°)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Ğ’Ğ·Ğ°Ğ¸Ğ¼Ğ¾Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğµ Ñ NPC "Ğ­Ğ»Ğ°Ñ€Ğ°"            â”‚
â”‚ DialogueManager Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ÑĞµÑ‚:              â”‚
â”‚ â€¢ Ğ•ÑÑ‚ÑŒ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ğµ ĞºĞ²ĞµÑÑ‚Ñ‹?                 â”‚
â”‚ â€¢ Ğ”Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½ ÑÑ‚Ğ°Ñ€Ñ‚ quest_elara_secret?    â”‚
â”‚ â†’ ĞŸĞ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ´Ğ¸Ğ°Ğ»Ğ¾Ğ³ dlg_elara_shop      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Ğ˜Ğ³Ñ€Ğ¾Ğº Ğ¿Ñ€Ğ¸Ğ½Ğ¸Ğ¼Ğ°ĞµÑ‚ ĞºĞ²ĞµÑÑ‚                   â”‚
â”‚ QuestManager:                           â”‚
â”‚ â€¢ Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµÑ‚ quest_elara_secret          â”‚
â”‚ â€¢ Stage = 1                             â”‚
â”‚ â€¢ Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‘Ñ‚ MapMarker Ğº poi_elara_shop    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ĞŸĞ¾Ğ³Ğ¾Ğ²Ğ¾Ñ€Ğ¸Ğ» Ñ Ğ­Ğ»Ğ°Ñ€Ğ¾Ğ¹ â†’ Stage 2            â”‚
â”‚ â€¢ ĞĞ¾Ğ²Ñ‹Ğ¹ MapMarker: poi_old_well         â”‚
â”‚ â€¢ Ğ¡ĞºÑ€Ñ‹Ñ‚ Ğ´Ğ¾ Ğ½Ğ°ÑÑ‚ÑƒĞ¿Ğ»ĞµĞ½Ğ¸Ñ Ğ½Ğ¾Ñ‡Ğ¸             â”‚
â”‚ â€¢ ĞšĞ¾Ğ¼Ğ¿Ğ°Ñ Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Ğ˜Ğ³Ñ€Ğ¾Ğº Ğ¿Ğ¾Ğ´Ñ…Ğ¾Ğ´Ğ¸Ñ‚ Ğº ĞºĞ¾Ğ»Ğ¾Ğ´Ñ†Ñƒ Ğ”ĞĞĞœ           â”‚
â”‚ TimeCondition: fail                     â”‚
â”‚ â†’ ĞŸĞ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ dlg_well_day_closed        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Ğ˜Ğ³Ñ€Ğ¾Ğº Ğ¿Ğ¾Ğ´Ñ…Ğ¾Ğ´Ğ¸Ñ‚ Ğº ĞºĞ¾Ğ»Ğ¾Ğ´Ñ†Ñƒ ĞĞĞ§Ğ¬Ğ®          â”‚
â”‚ â€¢ TimeCondition: pass                   â”‚
â”‚ â€¢ ĞÑ‚ĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ÑÑ Ğ¿ĞµÑ€ĞµÑ…Ğ¾Ğ´ Ğ² zone_ark_depths â”‚
â”‚ â€¢ POI Ğ¼ĞµĞ½ÑĞµÑ‚ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ Ğ½Ğ° "active"      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Ğ˜Ğ³Ñ€Ğ¾Ğº Ğ½Ğ°Ñ…Ğ¾Ğ´Ğ¸Ñ‚ Ğ—ĞµÑ€ĞºĞ°Ğ»Ğ¾                   â”‚
â”‚ â€¢ ĞĞ±Ğ½Ğ¾Ğ²Ğ»ÑĞµÑ‚ Stage 3 â†’ 4                 â”‚
â”‚ â€¢ ĞœĞ°Ñ€ĞºĞµÑ€ Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚Ğ° Ğº Ğ­Ğ»Ğ°Ñ€Ğµ               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚ Ğº Ğ­Ğ»Ğ°Ñ€Ğµ                         â”‚
â”‚ â€¢ ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ°: ĞµÑÑ‚ÑŒ Ğ—ĞµÑ€ĞºĞ°Ğ»Ğ¾?               â”‚
â”‚ â€¢ Ğ”Ğ° â†’ dlg_elara_success + Ğ½Ğ°Ğ³Ñ€Ğ°Ğ´Ğ°      â”‚
â”‚ â€¢ ĞĞµÑ‚ â†’ dlg_elara_fail                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Ğ’Ğ¸Ğ·ÑƒĞ°Ğ»ÑŒĞ½Ğ°Ñ Ğ˜ĞµÑ€Ğ°Ñ€Ñ…Ğ¸Ñ

```
World (Magic Awakening)
â”‚
â”œâ”€â”€ Zone: Ark of Creation
â”‚   â”œâ”€â”€ POI: Market (Settlement)
â”‚   â”‚   â””â”€â”€ Child: Elara's Shop
â”‚   â”‚       â”œâ”€â”€ NPC: Elara
â”‚   â”‚       â”œâ”€â”€ Shop Inventory
â”‚   â”‚       â””â”€â”€ Quest Start: quest_elara_secret
â”‚   â”‚
â”‚   â”œâ”€â”€ POI: Rune Temple (Landmark)
â”‚   â”‚   â””â”€â”€ Quest Start: quest_awakening
â”‚   â”‚
â”‚   â”œâ”€â”€ POI: Old Well (Landmark)
â”‚   â”‚   â”œâ”€â”€ Time Gate: Night only
â”‚   â”‚   â”œâ”€â”€ Zone Transition â†’ Ark Depths
â”‚   â”‚   â””â”€â”€ Quest Progress: quest_elara_secret (Stage 2)
â”‚   â”‚
â”‚   â””â”€â”€ POI: Old Tree (Secret)
â”‚       â”œâ”€â”€ Hidden until: quest_elara_secret Stage 2
â”‚       â””â”€â”€ Interaction reveals: Hidden Entrance
â”‚
â””â”€â”€ Zone: Ark Depths (Dungeon)
    â”œâ”€â”€ POI: Well Bottom (Spawn)
    â”œâ”€â”€ POI: Mirror Chamber (Objective)
    â”‚   â””â”€â”€ Item: Mirror of Truth
    â””â”€â”€ POI: Ancient Cache (Secret)
        â””â”€â”€ Requires: Rune of Perception
```

---

## ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹ Ğ´Ğ»Ñ Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸

### 1. Map Marker Component
```cpp
UCLASS(ClassGroup=(Magic))
class UMapMarkerComponent : public UActorComponent
{
    UPROPERTY(EditAnywhere)
    EMapMarkerType MarkerType;
    
    UPROPERTY(EditAnywhere)
    bool bDynamic; // Ğ”Ğ²Ğ¸Ğ¶ĞµÑ‚ÑÑ Ğ»Ğ¸ Ğ¼Ğ°Ñ€ĞºĞµÑ€?
    
    UPROPERTY(EditAnywhere)
    FString LinkedQuestID; // ĞŸÑ€Ğ¸Ğ²ÑĞ·ĞºĞ° Ğº ĞºĞ²ĞµÑÑ‚Ñƒ
    
    // ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Ğ¿Ğ¾Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ Ğ½Ğ° UI ĞºĞ°Ñ€Ñ‚Ñ‹
    UFUNCTION()
    void UpdateMapPosition();
};
```

### 2. Quest Location Volume
```cpp
UCLASS()
class AQuestLocationVolume : public ATriggerVolume
{
    UPROPERTY(EditAnywhere)
    FQuestLocationData LocationData;
    
    UFUNCTION()
    void OnPlayerEnter(ACharacter* Player);
    
    // ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ¿Ñ€Ğ¾Ğ³Ñ€ĞµÑÑĞ¸Ñ€ÑƒĞµÑ‚ ĞºĞ²ĞµÑÑ‚
    UPROPERTY(EditAnywhere)
    bool bAutoProgressQuest;
};
```

### 3. Time Gate Component
```cpp
UCLASS()
class UTimeGateComponent : public UActorComponent
{
    UPROPERTY(EditAnywhere)
    ETimeOfDay AllowedTime; // Morning, Day, Evening, Night
    
    UPROPERTY(EditAnywhere)
    FString BlockedDialogueID; // Ğ§Ñ‚Ğ¾ ÑĞºĞ°Ğ·Ğ°Ñ‚ÑŒ ĞµÑĞ»Ğ¸ Ğ½Ğµ Ñ‚Ğ¾ Ğ²Ñ€ĞµĞ¼Ñ
    
    UFUNCTION()
    bool CanInteract() const;
};
```

---

## Ğ§ĞµĞºĞ»Ğ¸ÑÑ‚ Ğ´Ğ»Ñ Ğ”Ğ¸Ğ·Ğ°Ğ¹Ğ½ĞµÑ€Ğ°

### Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ—Ğ¾Ğ½Ñ‹
- [ ] ĞĞ¿Ñ€ĞµĞ´ĞµĞ»Ğ¸Ñ‚ÑŒ Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹ Ğ·Ğ¾Ğ½Ñ‹
- [ ] ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¸Ñ‚ÑŒ Level Bounds
- [ ] Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ ZoneVolume
- [ ] Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Zone Data Asset
- [ ] ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¸Ñ‚ÑŒ ĞºĞ°Ñ€Ñ‚Ñƒ (Ñ‚ĞµĞºÑÑ‚ÑƒÑ€Ğ°, Ğ·ÑƒĞ¼)

### Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ POI
- [ ] Ğ Ğ°Ğ·Ğ¼ĞµÑÑ‚Ğ¸Ñ‚ÑŒ POI Actor Ğ² Ğ¼Ğ¸Ñ€Ğµ
- [ ] ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¸Ñ‚ÑŒ Discovery (Ğ°Ğ²Ñ‚Ğ¾/Ñ€ÑƒÑ‡Ğ½Ğ¾Ğµ)
- [ ] Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ²Ğ¸Ğ·ÑƒĞ°Ğ»ÑŒĞ½Ñ‹Ğµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ñ
- [ ] ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¸Ñ‚ÑŒ Fast Travel (ĞµÑĞ»Ğ¸ Ğ½ÑƒĞ¶Ğ½Ğ¾)
- [ ] Ğ¡Ğ²ÑĞ·Ğ°Ñ‚ÑŒ Ñ Quest Data Assets

### Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ ĞšĞ²ĞµÑÑ‚Ğ°
- [ ] Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Quest Location Ğ² ÑÑ‚Ğ°Ğ´Ğ¸Ğ¸
- [ ] ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¸Ñ‚ÑŒ Map Markers
- [ ] ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ ÑƒÑĞ»Ğ¾Ğ²Ğ¸Ñ (Ğ²Ñ€ĞµĞ¼Ñ, Ñ„Ğ»Ğ°Ğ³Ğ¸)
- [ ] ĞŸÑ€Ğ¾Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ¿Ğ¾Ğ»Ğ½Ñ‹Ğ¹ flow
- [ ] ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ edge cases (Ğ´Ğ½Ñ‘Ğ¼/Ğ½Ğ¾Ñ‡ÑŒÑ, Ğ±ĞµĞ· ĞºĞ²ĞµÑÑ‚Ğ°)

---

**Ğ¡Ğ²ÑĞ·Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ñ‹:**
- [Dialogue System](./Dialogue_System_Architecture.md)
- [Quest System](./Quest_System.md) (TODO)
- [Save System](./Save_System.md) (TODO)
